"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[518],{6518:(f,u,a)=>{a.r(u),a.d(u,{KeyvalueDialogComponent:()=>m});var _=a(765),e=a(6339),c=a(7254),d=a(4070),r=a(506),g=a(4370),p=a(8137);function v(s,h){if(1&s){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e._uU(2),e.qZA(),e.TgZ(3,"div",14),e._uU(4),e.qZA(),e.TgZ(5,"div",21)(6,"mat-icon",22),e.NdJ("click",function(){const i=e.CHM(t).index,l=e.oxw();return e.KtG(l.onOptionSel(i))}),e._uU(7,"edit"),e.qZA(),e.TgZ(8,"mat-icon",22),e.NdJ("click",function(){const i=e.CHM(t).index,l=e.oxw();return e.KtG(l.onOptionDel(i))}),e._uU(9,"delete"),e.qZA()()()}if(2&s){const t=h.$implicit;e.xp6(2),e.hij(" ",t.key," "),e.xp6(2),e.hij(" ",t.value," ")}}let m=(()=>{class s{constructor(t,o,n){this.dialogRef=t,this.data=o,this.snkBar=n,this.avalue="",this.akey="",this.selectOptions=[],this.selectOptions=o.value}onEditVal(t,o){"K"===o?(this.akey=t.target.value,""===this.avalue&&(this.avalue=this.akey)):(this.avalue=t.target.value,""===this.akey&&(this.akey=this.avalue))}onOptionSel(t=-1){this.onSave(),this.akey=this.selectOptions[t].key,this.avalue=this.selectOptions[t].value}onOptionDel(t){this.snkBar.open(`Borrar: "${this.selectOptions[t].value}?"`,"Borrar",{duration:3e3}).onAction().subscribe(o=>{this.selectOptions.splice(t,1)})}onAdd(){this.onSave(),this.akey="",this.avalue=""}onCancel(){this.akey="",this.avalue=""}onSave(){if(this.akey.length>0&&this.avalue.length>0){const t=this.selectOptions.find(o=>o.key===this.akey);t?t.value=this.avalue:this.selectOptions.push({key:this.akey,value:this.avalue})}}onDismiss(){this.dialogRef.close()}onSaveAll(){this.dialogRef.close(this.selectOptions)}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(_.so),e.Y36(_.WI),e.Y36(c.ux))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-keyvalue-dialog"]],decls:41,vars:4,consts:[[1,"flex","flex-col","h-full"],[1,"h-16","p-3","text-2xl","bg-violet-600","text-white","font-medium"],[1,"flex","px-1","w-full","justify-start","gap-1","my-1","bg-gray-200"],["mat-stroked-button","","color","primary"],[1,"w-full","px-1","flex","justify-end","my-1","h-7","bg-gray-200","text-violet-800"],["color","primary",3,"click"],["color","warn",3,"click"],[1,"p-1","flex","items-center","justify-end","w-full"],[1,"w-10"],[1,"grow","ml-2","rounded-sm","border","p-1","border-gray-300",3,"ngModel","ngModelChange","change"],[1,"p-1","flex","items-center","justify-start","mt-1","w-full"],[1,"grow","overflow-auto","flex","flex-col"],[1,"flex","items-center","h-7","mt-0","mx-1","bg-gray-200","text-violet-800","border","border-violet-800","border-dotted"],[1,"w-1/2","h-8","p-1"],[1,"flex-auto","p-1"],["class","flex h-7 border-b border-gray-200",4,"ngFor","ngForOf"],[1,"flex","p-3","justify-end","border-t","border-violet-500"],["mat-stroked-button","","color","warn",3,"click"],["mat-stroked-button","","color","primary","cdkFocusInitia","",3,"click"],[1,"flex","h-7","border-b","border-gray-200"],[1,"w-1/2","p-1","bg-gray-200"],[1,"bg-violet-100","border","content-center","text-sm","text-violet-500"],[3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"button",3)(5,"mat-icon"),e._uU(6,"http"),e.qZA()(),e.TgZ(7,"button",3)(8,"mat-icon"),e._uU(9,"publish"),e.qZA()()(),e.TgZ(10,"div",4)(11,"mat-icon",5),e.NdJ("click",function(){return n.onAdd()}),e._uU(12,"add"),e.qZA(),e.TgZ(13,"mat-icon",5),e.NdJ("click",function(){return n.onAdd()}),e._uU(14,"done"),e.qZA(),e._uU(15," \xa0 "),e.TgZ(16,"mat-icon",6),e.NdJ("click",function(){return n.onCancel()}),e._uU(17,"cancel"),e.qZA()(),e.TgZ(18,"div",7)(19,"div",8),e._uU(20,"Llave"),e.qZA(),e.TgZ(21,"input",9),e.NdJ("ngModelChange",function(l){return n.akey=l})("change",function(l){return n.onEditVal(l,"K")}),e.qZA()(),e.TgZ(22,"div",10)(23,"div",8),e._uU(24,"T\xedtulo"),e.qZA(),e.TgZ(25,"input",9),e.NdJ("ngModelChange",function(l){return n.avalue=l})("change",function(l){return n.onEditVal(l,"V")}),e.qZA()(),e.TgZ(26,"div",11)(27,"div",12)(28,"div",13),e._uU(29," Llave "),e.qZA(),e.TgZ(30,"div",14),e._uU(31," T\xedtulo "),e.qZA()(),e.YNc(32,v,10,2,"div",15),e.qZA(),e.TgZ(33,"div",16)(34,"button",17),e.NdJ("click",function(){return n.onDismiss()}),e.TgZ(35,"mat-icon"),e._uU(36,"close"),e.qZA()(),e._uU(37," \xa0 "),e.TgZ(38,"button",18),e.NdJ("click",function(){return n.onSaveAll()}),e.TgZ(39,"mat-icon"),e._uU(40,"done"),e.qZA()()()()),2&o&&(e.xp6(2),e.Oqu(n.data.title),e.xp6(19),e.Q6J("ngModel",n.akey),e.xp6(4),e.Q6J("ngModel",n.avalue),e.xp6(7),e.Q6J("ngForOf",n.selectOptions))},dependencies:[d.sg,r.Fj,r.JJ,r.On,g.lW,p.Hw]})}return s})()}}]);