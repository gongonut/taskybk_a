"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[359],{9359:(C,i,a)=>{a.r(i),a.d(i,{PollExportModule:()=>S});var v=a(7087),u=a(3759),d=a(3241),e=a(2283),h=a(4758),f=a(6655),y=a(8878),p=a(1359),b=a(3578),x=a(5499),c=a(6410),m=a(8464);const E=[{path:"",component:(()=>{class l{constructor(t,o,r,n){this.sharedvar=t,this.dtb=o,this.dg=r,this.snkBar=n,this.PollExecuteData={controls:[{name:"model_name",label:"Nombre del Modelo:",type:"text",style:"w-5/6",validators:{required:!0}},{name:"description",label:"Descripci\xf3n",type:"textarea",style:"w-full",totalRows:5,validators:{}},{name:"name",label:"Nombre de la Empresa:",type:"text",style:"w-full",validators:{}},{name:"client_logo",label:"URL del logo",type:"text",style:"w-full",validators:{}},{name:"date_ini",label:"Fecha inicial",type:"number",default:0,validators:{required:!0}},{name:"date_end",label:"Fecha final",type:"number",default:0,validators:{required:!0}},{name:"payxpoll",label:"Pago por encuesta",type:"number",default:0,validators:{required:!0}},{name:"total",label:"Ofertados",type:"number",default:0,validators:{required:!0}},{name:"endtimer",label:"Duraci\xf3n M\xe1xima en Minutos",type:"number",default:0,validators:{required:!0}}]}}ngOnInit(){}getClicked(t){}onGetdefaData(t){this.result=t}onExportSave(){var t=this;return(0,d.Z)(function*(){t.result._valid_?(t.dg.updatePropResult(t.sharedvar.pollsSelGroup,t.sharedvar.pollsSelGroup),t.dg.updatePropResult(t.sharedvar.pollsSelGroup,t.result),t.sharedvar.pollsSelGroup.executed=0,t.sharedvar.pollsSelGroup.pollList.forEach(o=>{o.values&&(o.values._valid_=!1,o.values._btnEvent_&&(o.values._btnEvent_=""),o.values._btnclick_&&(o.values._btnclick_=""))}),t.sharedvar.pollsSelGroup.exported=!0,yield t.dtb.updatePollGroupAsync(t.sharedvar.pollsSelGroup),t.snkBar.open(`El Modelo '${t.sharedvar.pollsSelGroup.name}' se export\xf3 satisfactoriamente.`,"Ok",{duration:5e3})):t.snkBar.open("Debe ingresar la informaci\xf3n solicitada.","Ok",{duration:5e3})})()}onStop(){var t=this;return(0,d.Z)(function*(){t.sharedvar.pollsSelGroup.exported=!1,yield t.dtb.updatePollGroupAsync(t.sharedvar.pollsSelGroup),t.snkBar.open(`El Modelo '${t.sharedvar.pollsSelGroup.name}' ya no est\xe1 disponible.`,"Ok",{duration:5e3})})()}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(h.D),e.Y36(f.k),e.Y36(y.x),e.Y36(p.ux))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-poll-export"]],decls:12,vars:4,consts:[[3,"buttons","nav_menu","onClicked"],[1,"h-96","p-4"],[3,"jsonFormData","values","result"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"app-header",0),e.NdJ("onClicked",function(s){return r.getClicked(s)}),e.qZA(),e.TgZ(1,"div",1)(2,"app-dynamic-form",2),e.NdJ("result",function(s){return r.onGetdefaData(s)}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return r.onExportSave()}),e._uU(4," Exportar Modelo "),e.TgZ(5,"mat-icon"),e._uU(6,"send_to_mobile"),e.qZA()(),e._uU(7," \xa0 "),e.TgZ(8,"button",4),e.NdJ("click",function(){return r.onStop()}),e._uU(9," Inhabilitar Modelo "),e.TgZ(10,"mat-icon"),e._uU(11,"send_to_mobile"),e.qZA()()()),2&o&&(e.Q6J("buttons","10000")("nav_menu",!0),e.xp6(2),e.Q6J("jsonFormData",r.PollExecuteData)("values",r.sharedvar.pollsSelGroup))},dependencies:[b.G,x.r,c.lW,m.Hw]})}return l})()}];let g=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(E),u.Bz]})}return l})();var G=a(769),P=a(7572);let S=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({imports:[v.ez,g,G.O,p.ZX,P.N,c.ot,m.Ps]})}return l})()}}]);