"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[707],{4707:(P,C,c)=>{c.r(C),c.d(C,{CategListModule:()=>K});var h=c(4070),f=c(781),p=c(3241),w=c(8661),t=c(6339),k=c(3016),b=c(3792),T=c(1781),x=c(7254),Z=c(1618),L=c(5180),S=c(6789),M=c(9869),m=c(4156),y=c(8137),A=c(1842);const O=["editControlTrigger"],F=["droptrigger"];function I(l,_){if(1&l){const e=t.EpF();t.TgZ(0,"div",45)(1,"div",46)(2,"div",47),t._uU(3),t.qZA(),t.TgZ(4,"div",48),t._uU(5,"Agregar a filtro de b\xfasqueda: "),t.TgZ(6,"span",49),t._uU(7),t.qZA(),t._uU(8," - Tipo de campo: "),t.TgZ(9,"span",50),t._uU(10),t.qZA(),t._uU(11," - Lista de selecci\xf3n: "),t.TgZ(12,"span",50),t._uU(13),t.qZA()(),t.TgZ(14,"mat-icon",39),t.NdJ("click",function(){const s=t.CHM(e).index,r=t.oxw().index,o=t.oxw(2).$implicit,n=t.oxw();return t.KtG(n.swapElementItem(o.value,r,s))}),t._uU(15,"swap_vert"),t.qZA(),t.TgZ(16,"mat-icon",39),t.NdJ("click",function(){const s=t.CHM(e).index,r=t.oxw().index,o=t.oxw(2).$implicit,n=t.oxw();return t.KtG(n.addEditElementItem(o.value,r,s))}),t._uU(17,"edit"),t.qZA(),t.TgZ(18,"mat-icon",51),t.NdJ("click",function(){const s=t.CHM(e).index,r=t.oxw().index,o=t.oxw(2).$implicit,n=t.oxw();return t.KtG(n.deleteCharactItem(o.value,r,s))}),t._uU(19,"delete"),t.qZA()()()}if(2&l){const e=_.$implicit;t.xp6(3),t.hij(" ",e.title,": "),t.xp6(4),t.Oqu(e.add2filter),t.xp6(3),t.Oqu(e.type),t.xp6(3),t.Oqu(e.selectlist)}}function U(l,_){if(1&l){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div",38),t._uU(5),t.qZA(),t._uU(6," \xa0 "),t.TgZ(7,"mat-icon",39),t.NdJ("click",function(){const s=t.CHM(e).index,r=t.oxw(2).$implicit,o=t.oxw();return t.KtG(o.swapPropItem(r.value,s))}),t._uU(8,"swap_vert"),t.qZA(),t.TgZ(9,"mat-icon",40),t.NdJ("click",function(){const s=t.CHM(e).index,r=t.oxw(2).$implicit,o=t.oxw();return t.KtG(o.addEditCharactHeader(r.value,s))}),t._uU(10,"edit"),t.qZA(),t.TgZ(11,"mat-icon",41),t.NdJ("click",function(){const s=t.CHM(e).index,r=t.oxw(2).$implicit,o=t.oxw();return t.KtG(o.deleteHeader(r.value,s))}),t._uU(12,"delete"),t.qZA()(),t.TgZ(13,"div",42)(14,"div",43),t._uU(15,"Elementos de las propiedades "),t.qZA(),t.TgZ(16,"div")(17,"mat-icon",24),t.NdJ("click",function(){const s=t.CHM(e).index,r=t.oxw(2).$implicit,o=t.oxw();return t.KtG(o.addEditElementItem(r.value,s,-1))}),t._uU(18,"add"),t.qZA()()()(),t.YNc(19,I,20,4,"div",44),t.qZA()()}if(2&l){const e=_.$implicit;t.xp6(5),t.hij("",e.header," "),t.xp6(14),t.Q6J("ngForOf",e.data)}}function N(l,_){if(1&l){const e=t.EpF();t.TgZ(0,"div")(1,"div",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw();return t.KtG(s.addEditCharactHeader(a.value,-1))}),t.TgZ(2,"div",30),t._uU(3,"Propiedades"),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"mat-icon",31),t._uU(6,"add"),t.qZA()(),t.TgZ(7,"div",32),t.YNc(8,U,20,2,"div",33),t.qZA()()}if(2&l){const e=t.oxw().$implicit;t.xp6(8),t.Q6J("ngForOf",e.value.characterList)}}function E(l,_){if(1&l){const e=t.EpF();t.TgZ(0,"div")(1,"div",52)(2,"app-shopping-cond",53),t.NdJ("onChangeCond",function(a){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.editShoppingCategory(a,s.value))}),t.qZA()()()}if(2&l){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("category",e.value)("subfilterlist",i.categ2SubFilter)("categList",i.categ_list)}}function J(l,_){if(1&l){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("dragover",function(a){const r=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.onDragOver(a,r.value))})("dragstart",function(a){const r=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.onDragStart(a,r.value))})("drop",function(a){const r=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.onDrop(a,r.value))}),t.TgZ(1,"div",15)(2,"div",16)(3,"div",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.addEditCategory(s.value,s.key))}),t._UZ(4,"img",18),t.qZA(),t.TgZ(5,"div",19)(6,"div",20)(7,"mat-icon",21),t._uU(8),t.qZA(),t.TgZ(9,"div",22),t._uU(10),t.qZA()(),t.TgZ(11,"div",23)(12,"mat-icon",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.addEditCategory(s.value,s.key))}),t._uU(13,"edit"),t.qZA(),t.TgZ(14,"mat-icon",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.switchSubView(s.key))}),t._uU(15,"expand_more"),t.qZA(),t.TgZ(16,"mat-icon",24),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.switchShoppingCond(s.value,s.key))}),t._uU(17,"add_shopping_cart"),t.qZA(),t._uU(18," \xa0 "),t.TgZ(19,"mat-icon",25),t._uU(20,"swap_vert"),t.qZA(),t.TgZ(21,"mat-icon",26),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.deleteCatData(s.key))}),t._uU(22,"delete"),t.qZA(),t.TgZ(23,"div",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.categLevel(s.value,1))}),t.TgZ(24,"span"),t._uU(25,"Sub categor\xeda"),t.qZA(),t.TgZ(26,"mat-icon"),t._uU(27,"chevron_right"),t.qZA()()()()(),t.YNc(28,N,9,1,"div",28),t.YNc(29,E,3,3,"div",28),t.qZA()()}if(2&l){const e=_.$implicit,i=t.oxw(),a=t.MAs(28);t.xp6(4),t.Q6J("src",i.getCategImage(e.value),t.LSH),t.xp6(4),t.Oqu(i.getCategVisible(e.value.visible)),t.xp6(2),t.Oqu(e.value.name),t.xp6(11),t.Q6J("matMenuTriggerFor",a),t.xp6(7),t.Q6J("ngIf",i.getSubView(e.key)),t.xp6(1),t.Q6J("ngIf",i.getShoppingCondView(e.key))}}const q=[{path:"",component:(()=>{class l{constructor(e,i,a,s,r,o,n){this.dtb=e,this.dg=i,this.ds=a,this.snkBar=s,this.sanitizer=r,this.prodserv=o,this.sharedvar=n,this.categ_list=[],this.categ_list_2showMap=new Map,this.subView=-1,this.shoppingCond=-1,this.categ2SubFilter=[],this.categShow=[{_id:this.prodserv._ROOT,title:"Raiz"}],this.catIndex=-1,this.mpos={x:-1,y:-1},this.categorySchema={controls:[{name:"_id",label:"C\xf3digo:",type:"text",style:"w-full",disabled:!0,validators:{required:!0}},{name:"name",label:"Nombre de la categor\xeda:",type:"text",style:"w-full",validators:{required:!0}},{name:"description",label:"Descripci\xf3n:",type:"textarea",style:"w-full",totalRows:2,validators:{}},{name:"visible",label:"Visible",type:"checkbox",validators:{}},{name:"indexCategory",label:"Viene de...",type:"multiselect",style:"w-full",selectOptions:[],validators:{}}]},this.characteristic={controls:[{name:"header",label:"T\xedtulo:",type:"text",style:"w-full",validators:{required:!0}},{name:"duplicable",label:"Duplicable",type:"checkbox",validators:{}}]},this.charactItem={controls:[{name:"id",label:"C\xf3digo:",type:"text",disabled:!0,validators:{}},{name:"type",label:"Tipo de campo/control:",type:"select",selectOptions:[{key:"prod_star",value:"Item calificaci\xf3n"},{key:"prod_chip",value:"Item chips"},{key:"prod_code",value:"Item c\xf3digo"},{key:"prod_description_long",value:"Item descripci\xf3n"},{key:"prod_stock",value:"Item existencia"},{key:"prod_tax_p",value:"Item impuesto %"},{key:"prod_description",value:"Item nombre"},{key:"prod_opinion",value:"Item opini\xf3n"},{key:"prod_price",value:"Item precio"},{key:"prod_state",value:"Departarmento/Estado"},{key:"prod_city",value:"Municipio/Ciudad"},{key:"prod_address",value:"Item direcci\xf3n"},{key:"geo",value:"Geo-ubicaci\xf3n"},{key:"prod_owner",value:"Propietario/Responsable"},{key:"prod_owner1",value:"Propietario/Responsable 1"},{key:"prod_owner2",value:"Propietario/Responsable 2"},{key:"number",value:"N\xfamero"},{key:"image",value:"Foto/Imagen (v\xednculo)"},{key:"qa",value:"Preguntas/Respuestas"},{key:"checkbox",value:"si/no"},{key:"text",value:"Texto"},{key:"text_box",value:"Caja de texto"}],style:"w-full",validators:{required:!0}},{name:"title",label:"T\xedtulo del elemento:",type:"text",style:"w-full",validators:{required:!0}},{name:"add2filter",label:"Agregar a los filtros de b\xfasqueda.",type:"checkbox",validators:{required:!0}},{name:"selectlist",label:"Seleccionar de \xe9sta lista",type:"select",style:"w-2/3",sideBtn:"list",validators:{}},{name:"add2subfilter",label:"Filtra subproductos. ",type:"checkbox",validators:{required:!0}}]},this.chardata={pos:0,id:"",name:"",title:"",type:"",add2filter:!1,add2subfilter:!1,selectlist:[]}}ngOnInit(){var e=this;return(0,p.Z)(function*(){yield e.categLevel(null,-1)})()}getClicked(e){var i=this;return(0,p.Z)(function*(){switch(e.index){case 1:case 3:break;case 2:i.onAddCategoryMenu(-1);break;case 4:yield i.categLevel(null,-1)}})()}categLevel(e,i){var a=this;return(0,p.Z)(function*(){let s=a.prodserv._ROOT;-1===i&&a.categShow.length>1?a.categShow.splice(a.categShow.length-1,1):null!==e?(a.categShow.push({_id:e._id,title:e.name}),s=e._id):(a.categShow=[{_id:a.prodserv._ROOT,title:"Raiz"}],a.categ_list=yield a.prodserv.getCategories()),a.updateCategLevel(s)})()}updateCategLevel(e){const i=[];this.categ_list.forEach(a=>{this.prodserv.findIndexIncludesCat_id(a.indexCategory,e)>=0&&i.push(a)}),this.categ_list_2showMap=this.prodserv.getOrderCategList_Map(i,e)}setCategory(e,i){this.updateCategLevel(this.categShow[this.categShow.length-1]._id),this.prodserv.setCategory(e,i)}getCategVisible(e){return e?"visibility":"visibility_off"}mousepos(e){this.mpos.x=e.clientX,this.mpos.y=e.clientY}onAddCategoryMenu(e=-1){let i=document.getElementById("spanTrigger");i&&(i.style.display="",i.style.position="absolute",i.style.left=this.mpos.x+5+"px",i.style.top=this.mpos.y+5+"px",this.editControlTrigger.openMenu())}addEditCategory(e,i=-1){var a=this;return(0,p.Z)(function*(){let s=-1===i;if(s){let d=a.sharedvar.nextConsecutive("C",3,!0,a.categ_list,"_id"),u=`${a.prodserv._ROOT}:0`;a.categShow.length>1&&(u=`${a.categShow[a.categShow.length-1]._id}:0`),e={_id:d,name:"",characterList:[],visible:!0,indexCategory:[u]}}const r=[];if(a.categ_list.forEach(d=>{e._id!==d._id&&r.push({key:d._id,value:d.name})}),r.length>0&&a.categorySchema.controls){const d=a.categorySchema.controls.find(u=>"indexCategory"===u.name);d&&(d.selectOptions=r)}let o={schema:a.categorySchema,value:e,title:"Categor\xeda",showImage:!0,image:e.picture,imgwidth:400,imgheight:400,dgheigth:715};const n=yield a.dg.aDefault(o);n&&(delete n._propName_,delete n._valid_,a.dg.updatePropResult(e,n),o.image&&e&&(e.picture=o.image),s?a.categ_list.push(e):a.categ_list[i]=e,a.setCategory(e,s))})()}onSelectFromList(){var e=this;const i=[];for(let s=0;s<this.categ_list.length;s++)i.push({myid:this.categ_list[s]._id,name:this.categ_list[s].name});this.ds.aSelectDefault({title:"Seleccionar categor\xeda",dgheigth:450,viewfilter:!0,viewAdd:!1,viewEdit:!1,viewDel:!1,multiSelect:!1,valuelst:i}).subscribe(function(){var s=(0,p.Z)(function*(r){if(!r)return;const o=e.categ_list_2showMap.size;let n=`${e.prodserv._ROOT}:${o}`;e.categShow.length>1&&(n=`${e.categShow[e.categShow.length-1]._id}:${o}`);const d=e.categ_list.find(u=>u._id===r[0].myid);d&&(d.indexCategory.push(n),e.categ_list_2showMap.set(e.categ_list.length,d),e.setCategory(d,!1))});return function(r){return s.apply(this,arguments)}}())}deleteCatData(e){const i=this.categ_list_2showMap.get(e);this.catIndex=this.categ_list.findIndex(a=>a._id===i?._id)}deleteCategory(){this.allowDelCat(this.categ_list[this.catIndex])&&this.snkBar.open("Eliminar "+this.categ_list[this.catIndex].name,"Ok",{duration:7e3}).onAction().subscribe(e=>{this.prodserv.deleteCategory(this.categ_list[this.catIndex]._id),this.categ_list.splice(this.catIndex,1),this.updateCategLevel(this.categShow[this.categShow.length-1]._id)})}removeCategory(){const e=this.categShow[this.categShow.length-1]._id,i=this.categ_list[this.catIndex];i.indexCategory&&this.prodserv.findIndexIncludesCat_id(i.indexCategory,e)>=0&&i.indexCategory.length>1?this.snkBar.open("Se sustraer\xe1 la categor\xeda de la jerarquia. \xbfContinuar?","Ok",{duration:7e3}).onAction().subscribe(a=>{const s=this.prodserv.findIndexIncludesCat_id(i.indexCategory,e);i.indexCategory.splice(s,1),this.setCategory(i,!1)}):this.snkBar.open("Si se extrae la categor\xeda de la jerarquia quedar\xe1 hu\xe9rfana, y ser\xe1 movida a la raiz. \xbfContinuar?","Ok",{duration:7e3}).onAction().subscribe(a=>{i.indexCategory=[`${this.prodserv._ROOT}:0`],this.setCategory(i,!1)})}allowDelCat(e){for(let i=0;i<this.categ_list.length;i++)if(this.prodserv.findIndexIncludesCat_id(this.categ_list[i].indexCategory,e._id)>=0)return!1;return!0}addEditCharactHeader(e,i){var a=this;return(0,p.Z)(function*(){let s=!1,r=e.characterList[i];if(-1===i){const d=a.sharedvar.getSerialKey(2,4);r={pos:0,cat_id:e._id,id:d,header:"",duplicable:!1,data:[]},s=!0}let o={schema:a.characteristic,value:r,title:"T\xedtulo de la caracter\xedstica",dgheigth:265};const n=yield a.dg.aDefault(o);if(n){if(delete n._propName_,delete n._valid_,a.dg.updatePropResult(r,n),s){let d=0;e.characterList.forEach(u=>{u.pos=d,d++}),r.pos=d,e.characterList.push(r)}else e.characterList[i]=r;a.setCategory(e,!1)}})()}swapPropItem(e,i){if(i>0){const a=e.characterList[i].pos;i--;const s=e.characterList[i].pos;e.characterList[i].pos=a,i++,e.characterList[i].pos=s,e.characterList.sort((r,o)=>r.pos-o.pos),this.setCategory(e,!1)}}deleteHeader(e,i){const a=e.characterList[i];a&&this.snkBar.open("Eliminar "+a.header,"Ok",{duration:7e3}).onAction().subscribe(s=>{e.characterList.splice(i,1),this.setCategory(e,!1)})}addEditElementItem(e,i,a){var s=this;return(0,p.Z)(function*(){s.prodserv.generateSubFilterList(e._id,s.categ_list);let r=!0;const o=s.sharedvar.getSerialKey(2,4);let n={pos:0,id:o,name:o,title:"",type:"",add2filter:!1,add2subfilter:!1,selectlist:[]};if(a>=0&&e.characterList[i].data[a]&&(n=e.characterList[i].data[a],r=!1),s.getTypePicture(s,n,s.charactItem),n.selectlist&&n.selectlist.length>0){const g=[];n.selectlist.forEach(v=>g.push({text:v})),s.fillSelectlist(s.charactItem,g)}s.chardata={...n};let d={schema:s.charactItem,function:[{name:"type",self:s,btn_source:0,function:s.getTypePicture},{name:"selectlist",self:s,btn_source:1,function:s.getList}],value:n,title:"Propiedades de: "+e.characterList[i].header,dgwidth:600,dgheigth:600};const u=yield s.dg.aDefault(d);if(u){if(delete u._propName_,delete u._valid_,s.dg.updatePropResult(n,u),n.subfilterlist=s.chardata.subfilterlist,n.name=s.getPropName(e,i,u.title),r){let g=0;e.characterList[i].data.forEach(v=>{v.pos=g,g++}),n.pos=g,e.characterList[i].data.push(n)}else e.characterList[i].data[a]=n;s.setCategory(e,!1)}})()}getPropName(e,i,a){return this.sharedvar.removeAccents(`${e.name}_${e.characterList[i].header}_${a}`.toUpperCase())}getTypePicture(e,i,a){return(0,p.Z)(function*(){if(!i||!a.controls)return;const s=a.controls.findIndex(r=>"pict_proportion"===r.name)||-1;if("image"!==i.type&&"carrousel"!==i.type||-1!==s){if("image"!==i.type&&"pictures"!==i.type&&s>-1){a.controls.splice(s,1);const r=a.controls.findIndex(o=>"pict_density"===o.name)||-1;a.controls.splice(r,1)}}else a.controls.push({name:"pict_proportion",label:"Proporciones (n/n):",type:"text",default:"3/4",validators:{}},{name:"pict_density",label:"Densidad de la im\xe1gen:",type:"number",default:300,validators:{}}),i.pict_proportion="3/4",i.pict_density="300";return{schema:a,value:i}})()}getList(e,i,a){return(0,p.Z)(function*(){if(!i)return;const s=[];i.selectlist&&i.selectlist.length>0?i.selectlist.forEach(n=>s.push({text:n})):s.push({text:""});const r={title:"Lista predeterminada",schema:{controls:[{label:"Texto",name:"text",validators:{},type:"text",style:"w-full"}]},value:s,tags:{headerAdd:"add"}},o=yield(0,w.z)(e.dg.aDefaultMulti(r));return o&&(i.selectlist=e.fillSelectlist(a,o)),{schema:a,value:i}})()}fillSelectlist(e,i){const a=[];i.forEach(r=>a.push(r.text));const s=e.controls?.find(r=>"selectlist"===r.name);return s&&a.length>0&&(s.selectOptions=[],a.forEach(r=>s.selectOptions?.push({key:r,value:r}))),a}swapElementItem(e,i,a){if(a>0){const s=e.characterList[i].data[a].pos;a--;const r=e.characterList[i].data[a].pos;e.characterList[i].data[a].pos=s,a++,e.characterList[i].data[a].pos=r,e.characterList[i].data.sort((o,n)=>o.pos-n.pos),this.setCategory(e,!1)}}deleteCharactItem(e,i,a){const s=e.characterList[i].data[a];s&&this.snkBar.open("Eliminar "+s.title,"Ok",{duration:7e3}).onAction().subscribe(r=>{e.characterList[i].data.splice(a,1),this.setCategory(e,!1)})}switchSubView(e){this.subView===e?this.subView=-1:(this.subView=e,this.shoppingCond=-1)}getSubView(e){return this.subView===e}getCategImage(e){return e.picture?this.sanitizer.bypassSecurityTrustUrl(e.picture):""}fileChangeEvent(e,i=null){}switchShoppingCond(e,i){this.shoppingCond===i?this.shoppingCond=-1:(this.subView=-1,this.shoppingCond=i,this.categ2SubFilter=this.prodserv.generateSubFilterList(e._id,this.categ_list))}getShoppingCondView(e){return this.shoppingCond===e}editShoppingCategory(e,i){var a=this;return(0,p.Z)(function*(){console.log(e),yield a.setCategory(i,!1)})()}onDragOver(e,i){null!==i&&(this.drag2Category=i),e.preventDefault()}onDragStart(e,i){this.dragFromCategory=i}onDrop(e,i){if(e.stopPropagation(),this.dragFromCategory===i)return;this.drag2Category=i;let a=document.getElementById("spandroptrigger");a&&(a.style.display="",a.style.position="absolute",a.style.left=e.x+5+"px",a.style.top=e.y+5+"px",this.droptrigger.openMenu())}onDropOrder(){var e=this;return(0,p.Z)(function*(){if(!e.drag2Category)return;const i=e.sharedvar.getKeyFromValues_Map(e.categ_list_2showMap,"_id",e.dragFromCategory._id),a=e.sharedvar.getKeyFromValues_Map(e.categ_list_2showMap,"_id",e.drag2Category._id);if(-1!==i&&-1!==a){const s=e.categShow[e.categShow.length-1]._id;e.categ_list_2showMap.get(i),e.categ_list_2showMap.get(a),e.categ_list_2showMap=yield e.prodserv.reorderCategs(e.categ_list_2showMap,s,i,a)}})()}onMoveCategory(){this.addIndexCategory();let e=this.prodserv._ROOT;this.categShow.length>1&&(e=this.categShow[this.categShow.length-1]._id);const i=this.prodserv.findIndexIncludesCat_id(this.dragFromCategory.indexCategory,e);i>=0&&this.dragFromCategory.indexCategory&&(this.dragFromCategory.indexCategory.splice(i,1),this.setCategory(this.dragFromCategory,!1))}onCopyCategory(){this.addIndexCategory()&&this.setCategory(this.dragFromCategory,!1)}addIndexCategory(){return this.prodserv.findIndexIncludesCat_id(this.dragFromCategory.indexCategory,this.drag2Category._id)<0&&(this.dragFromCategory.indexCategory?.push(`${this.drag2Category._id}:500`),!0)}deleteCat(e,i){const a=e.characterList[i];a&&this.snkBar.open("Eliminar "+a.header,"Ok",{duration:7e3}).onAction().subscribe(s=>{let r=this.prodserv._ROOT;this.categShow.length>1&&(r=this.categShow[this.categShow.length-1]._id);const o=this.prodserv.findIndexIncludesCat_id(e.indexCategory,r);o>=0&&e.indexCategory?.splice(o,1)})}static#t=this.\u0275fac=function(i){return new(i||l)(t.Y36(k.k),t.Y36(b.x),t.Y36(T.n),t.Y36(x.ux),t.Y36(Z.H7),t.Y36(L.M),t.Y36(S.D))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-categ-list"]],viewQuery:function(i,a){if(1&i&&(t.Gf(O,5),t.Gf(F,5)),2&i){let s;t.iGM(s=t.CRH())&&(a.editControlTrigger=s.first),t.iGM(s=t.CRH())&&(a.droptrigger=s.first)}},decls:33,vars:8,consts:[[1,"flex","flex-col","max-h-screen",3,"mousemove"],[3,"buttons","nav_menu","onClicked"],["id","spanTrigger",3,"matMenuTriggerFor"],["editControlTrigger","matMenuTrigger"],[1,"flex-1","px-1","pt-1","bg-gray-100","overflow-auto"],[1,"flex","font-medium","mb-2","text-gray-400","hover:text-black",3,"click"],["id","spandroptrigger",3,"matMenuTriggerFor"],["droptrigger","matMenuTrigger"],["draggable","true",3,"dragover","drop"],["draggable","true",3,"dragover","dragstart","drop",4,"ngFor","ngForOf"],["productsmenu","matMenu"],["mat-menu-item","",3,"click"],["dropmenu","matMenu"],["onDeleteCategory","matMenu"],["draggable","true",3,"dragover","dragstart","drop"],[1,"p-1","flex","flex-col","bg-white","border","border-gray-500","mb-2"],[1,"flex","justify-start"],[1,"w-30",3,"click"],[1,"h-16","w-16","border","border-gray-400","py-1","px-1","rounded-full","shadow-sm",3,"src"],[1,"grow","ml-2","flex","flex-col"],[1,"flex","justify-start","font-medium"],[1,"text-gray-800"],[1,"ml-2"],[1,"mt-1","flex","justify-end","text-sky-200","bg-gray-100"],[1,"hover:text-sky-500",3,"click"],[1,"text-sky-200","hover:text-sky-500"],[1,"hover:text-red-500",3,"matMenuTriggerFor","click"],[1,"ml-12","flex","text-gray-400","font-medium","hover:text-black",3,"click"],[4,"ngIf"],[1,"mt-2","flex","px-1","text-sm","bg-gray-100",3,"click"],[1,"mt-1","font-medium","text-gray-400","hover:text-black"],[1,"w-20","text-sky-200","hover:text-sky-500"],[1,"flex","flex-col","mx-2","mt-1","text-sm"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"border","border-gray-300"],[1,"flex","flex-row","align-middle","bg-gray-100"],[1,"grow","flex","flex-row","items-center","justify-center","text-sky-200"],[1,"text-center","font-medium","text-black"],[1,"text-sky-200","hover:text-sky-500",3,"click"],[1,"w-20","ml-1","hover:text-sky-500",3,"click"],[1,"hover:text-red-500",3,"click"],[1,"w-40","flex","flex-row","items-end","justify-end","align-middle","font-medium","text-sm","text-sky-200"],[1,"text-gray-400","hover:text-black"],["class","flex flex-col",4,"ngFor","ngForOf"],[1,"flex","flex-col"],[1,"pt-2","flex","justify-items-start","align-middle","bg-white"],[1,"px-1","font-medium","text-sm"],[1,"grow","px-1","text-xs"],[1,"text-gray-400"],[1,"text-gray-500"],[1,"text-sky-200","hover:text-red-500",3,"click"],[1,"flex-1","px-2","pt-3","mt-1","overflow-auto"],[3,"category","subfilterlist","categList","onChangeCond"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0),t.NdJ("mousemove",function(r){return a.mousepos(r)}),t.TgZ(1,"app-header",1),t.NdJ("onClicked",function(r){return a.getClicked(r)}),t.qZA(),t._UZ(2,"span",2,3),t.TgZ(4,"div",4)(5,"div",5),t.NdJ("click",function(){return a.categLevel(null,-1)}),t.TgZ(6,"mat-icon"),t._uU(7,"chevron_left"),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA()(),t._UZ(10,"span",6,7),t.TgZ(12,"div",8),t.NdJ("dragover",function(r){return a.onDragOver(r,null)})("drop",function(){return a.onDropOrder()}),t.YNc(13,J,30,6,"div",9),t.ALo(14,"keyvalue"),t.qZA()(),t.TgZ(15,"mat-menu",null,10)(17,"button",11),t.NdJ("click",function(){return a.addEditCategory(null,-1)}),t._uU(18," Nueva categor\xeda "),t.qZA(),t.TgZ(19,"button",11),t.NdJ("click",function(){return a.onSelectFromList()}),t._uU(20," Seleccionar de la lista "),t.qZA()(),t.TgZ(21,"mat-menu",null,12)(23,"button",11),t.NdJ("click",function(){return a.onMoveCategory()}),t._uU(24," Mover... "),t.qZA(),t.TgZ(25,"button",11),t.NdJ("click",function(){return a.onCopyCategory()}),t._uU(26," Replicar... "),t.qZA()(),t.TgZ(27,"mat-menu",null,13)(29,"button",11),t.NdJ("click",function(){return a.removeCategory()}),t._uU(30," Sustraer de esta categor\xeda "),t.qZA(),t.TgZ(31,"button",11),t.NdJ("click",function(){return a.deleteCategory()}),t._uU(32," Eliminar de la base de datos "),t.qZA()()()),2&i){const s=t.MAs(16),r=t.MAs(22);t.xp6(1),t.Q6J("buttons","111111")("nav_menu",!1),t.xp6(1),t.Q6J("matMenuTriggerFor",s),t.xp6(7),t.Oqu(a.categShow[a.categShow.length-1].title),t.xp6(1),t.Q6J("matMenuTriggerFor",r),t.xp6(3),t.Q6J("ngForOf",t.lcZ(14,6,a.categ_list_2showMap))}},dependencies:[h.sg,h.O5,M.G,m.VK,m.OP,m.p6,y.Hw,A.y,h.Nd]})}return l})()}];let $=(()=>{class l{static#t=this.\u0275fac=function(i){return new(i||l)};static#e=this.\u0275mod=t.oAB({type:l});static#i=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(q),f.Bz]})}return l})();var D=c(5425),H=c(7774),G=c(6532);let K=(()=>{class l{static#t=this.\u0275fac=function(i){return new(i||l)};static#e=this.\u0275mod=t.oAB({type:l});static#i=this.\u0275inj=t.cJS({imports:[h.ez,$,D.O,m.Tx,y.Ps,x.ZX,H.N,G.U]})}return l})()}}]);