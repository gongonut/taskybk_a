"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[76],{8076:(K,m,c)=>{c.r(m),c.d(m,{CategListModule:()=>H});var p=c(7087),C=c(3759),_=c(3241),x=c(4344),t=c(2283),y=c(6806),w=c(5061),k=c(3620),v=c(1359),b=c(8937),T=c(9666),Z=c(4758),L=c(3578),h=c(9347),f=c(8464),S=c(938);const M=["editControlTrigger"],A=["droptrigger"];function O(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",45)(1,"div",46)(2,"div",47),t._uU(3),t.qZA(),t.TgZ(4,"div",48),t._uU(5,"Agregar a filtro de b\xfasqueda: "),t.TgZ(6,"span",49),t._uU(7),t.qZA(),t._uU(8," - Tipo de campo: "),t.TgZ(9,"span",50),t._uU(10),t.qZA(),t._uU(11," - Lista de selecci\xf3n: "),t.TgZ(12,"span",50),t._uU(13),t.qZA()(),t.TgZ(14,"mat-icon",39),t.NdJ("click",function(){const a=t.CHM(e).index,o=t.oxw().index,r=t.oxw(2).$implicit,l=t.oxw();return t.KtG(l.swapElementItem(r.value,o,a))}),t._uU(15,"swap_vert"),t.qZA(),t.TgZ(16,"mat-icon",39),t.NdJ("click",function(){const a=t.CHM(e).index,o=t.oxw().index,r=t.oxw(2).$implicit,l=t.oxw();return t.KtG(l.addEditElementItem(r.value,o,a))}),t._uU(17,"edit"),t.qZA(),t.TgZ(18,"mat-icon",51),t.NdJ("click",function(){const a=t.CHM(e).index,o=t.oxw().index,r=t.oxw(2).$implicit,l=t.oxw();return t.KtG(l.deleteCharactItem(r.value,o,a))}),t._uU(19,"delete"),t.qZA()()()}if(2&n){const e=g.$implicit;t.xp6(3),t.hij(" ",e.title,": "),t.xp6(4),t.Oqu(e.add2filter),t.xp6(3),t.Oqu(e.type),t.xp6(3),t.Oqu(e.selectlist)}}function F(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"div",38),t._uU(5),t.qZA(),t._uU(6," \xa0 "),t.TgZ(7,"mat-icon",39),t.NdJ("click",function(){const a=t.CHM(e).index,o=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.swapPropItem(o.value,a))}),t._uU(8,"swap_vert"),t.qZA(),t.TgZ(9,"mat-icon",40),t.NdJ("click",function(){const a=t.CHM(e).index,o=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.addEditCharactHeader(o.value,a))}),t._uU(10,"edit"),t.qZA(),t.TgZ(11,"mat-icon",41),t.NdJ("click",function(){const a=t.CHM(e).index,o=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.deleteHeader(o.value,a))}),t._uU(12,"delete"),t.qZA()(),t.TgZ(13,"div",42)(14,"div",43),t._uU(15,"Elementos de las propiedades "),t.qZA(),t.TgZ(16,"div")(17,"mat-icon",24),t.NdJ("click",function(){const a=t.CHM(e).index,o=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.addEditElementItem(o.value,a,-1))}),t._uU(18,"add"),t.qZA()()()(),t.YNc(19,O,20,4,"div",44),t.qZA()()}if(2&n){const e=g.$implicit;t.xp6(5),t.hij("",e.header," "),t.xp6(14),t.Q6J("ngForOf",e.data)}}function I(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,a=t.oxw();return t.KtG(a.addEditCharactHeader(s.value,-1))}),t.TgZ(2,"div",30),t._uU(3,"Propiedades"),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"mat-icon",31),t._uU(6,"add"),t.qZA()(),t.TgZ(7,"div",32),t.YNc(8,F,20,2,"div",33),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(8),t.Q6J("ngForOf",e.value.characterList)}}function U(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",52)(2,"app-shopping-cond",53),t.NdJ("onChangeCond",function(s){t.CHM(e);const a=t.oxw().$implicit,o=t.oxw();return t.KtG(o.editShoppingCategory(s,a.value))}),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("category",e.value)("subfilterlist",i.categ2SubFilter)("categList",i.categ_list)}}function N(n,g){if(1&n){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("dragover",function(s){const o=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.onDragOver(s,o.value))})("dragstart",function(s){const o=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.onDragStart(s,o.value))})("drop",function(s){const o=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.onDrop(s,o.value))}),t.TgZ(1,"div",15)(2,"div",16)(3,"div",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.addEditCategory(a.value,a.key))}),t._UZ(4,"img",18),t.qZA(),t.TgZ(5,"div",19)(6,"div",20)(7,"mat-icon",21),t._uU(8),t.qZA(),t.TgZ(9,"div",22),t._uU(10),t.qZA()(),t.TgZ(11,"div",23)(12,"mat-icon",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.addEditCategory(a.value,a.key))}),t._uU(13,"edit"),t.qZA(),t.TgZ(14,"mat-icon",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.switchSubView(a.key))}),t._uU(15,"expand_more"),t.qZA(),t.TgZ(16,"mat-icon",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.switchShoppingCond(a.value,a.key))}),t._uU(17,"add_shopping_cart"),t.qZA(),t._uU(18," \xa0 "),t.TgZ(19,"mat-icon",25),t._uU(20,"swap_vert"),t.qZA(),t.TgZ(21,"mat-icon",26),t.NdJ("click",function(){const a=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.deleteCatData(a.key))}),t._uU(22,"delete"),t.qZA(),t.TgZ(23,"div",27),t.NdJ("click",function(){const a=t.CHM(e).$implicit,o=t.oxw();return t.KtG(o.categLevel(a.value,1))}),t.TgZ(24,"span"),t._uU(25,"Sub categor\xeda"),t.qZA(),t.TgZ(26,"mat-icon"),t._uU(27,"chevron_right"),t.qZA()()()()(),t.YNc(28,I,9,1,"div",28),t.YNc(29,U,3,3,"div",28),t.qZA()()}if(2&n){const e=g.$implicit,i=t.oxw(),s=t.MAs(28);t.xp6(4),t.Q6J("src",i.getCategImage(e.value),t.LSH),t.xp6(4),t.Oqu(i.getCategVisible(e.value.visible)),t.xp6(2),t.Oqu(e.value.name),t.xp6(11),t.Q6J("matMenuTriggerFor",s),t.xp6(7),t.Q6J("ngIf",i.getSubView(e.key)),t.xp6(1),t.Q6J("ngIf",i.getShoppingCondView(e.key))}}const E=[{path:"",component:(()=>{class n{constructor(e,i,s,a,o,r,l){this.dtb=e,this.dg=i,this.ds=s,this.snkBar=a,this.sanitizer=o,this.prodserv=r,this.sharedvar=l,this.categ_list=[],this.categ_list_2showMap=new Map,this.subView=-1,this.shoppingCond=-1,this.categ2SubFilter=[],this.categShow=[{_id:"_ROOT",title:"Raiz"}],this.catIndex=-1,this.mpos={x:-1,y:-1},this.categorySchema={controls:[{name:"_id",label:"C\xf3digo:",type:"text",style:"w-full",disabled:!0,validators:{required:!0}},{name:"name",label:"Nombre de la categor\xeda:",type:"text",style:"w-full",validators:{required:!0}},{name:"description",label:"Descripci\xf3n:",type:"textarea",style:"w-full",totalRows:2,validators:{}},{name:"visible",label:"Visible",type:"checkbox",validators:{}},{name:"indexCategory",label:"Viene de...",type:"multiselect",style:"w-full",selectOptions:[],validators:{}}]},this.characteristic={controls:[{name:"header",label:"T\xedtulo:",type:"text",style:"w-full",validators:{required:!0}},{name:"duplicable",label:"Duplicable",type:"checkbox",validators:{}}]},this.charactItem={controls:[{name:"id",label:"C\xf3digo:",type:"text",disabled:!0,validators:{}},{name:"type",label:"Tipo de campo/control:",type:"select",selectOptions:[{key:"prod_star",value:"Item calificaci\xf3n"},{key:"prod_chip",value:"Item chips"},{key:"prod_code",value:"Item c\xf3digo"},{key:"prod_description_long",value:"Item descripci\xf3n"},{key:"prod_stock",value:"Item existencia"},{key:"prod_tax_p",value:"Item impuesto %"},{key:"prod_description",value:"Item nombre"},{key:"prod_opinion",value:"Item opini\xf3n"},{key:"prod_price",value:"Item precio"},{key:"prod_state",value:"Departarmento/Estado"},{key:"prod_city",value:"Municipio/Ciudad"},{key:"prod_address",value:"Item direcci\xf3n"},{key:"prod_geo",value:"Geo-ubicaci\xf3n"},{key:"prod_owner",value:"Propietario/Responsable"},{key:"number",value:"N\xfamero"},{key:"image",value:"Foto/Imagen (v\xednculo)"},{key:"qa",value:"Preguntas/Respuestas"},{key:"checkbox",value:"si/no"},{key:"text",value:"Texto"},{key:"text_box",value:"Caja de texto"}],style:"w-full",validators:{required:!0}},{name:"title",label:"T\xedtulo del elemento:",type:"text",style:"w-full",validators:{required:!0}},{name:"add2filter",label:"Agregar a los filtros de b\xfasqueda.",type:"checkbox",validators:{required:!0}},{name:"selectlist",label:"Seleccionar de \xe9sta lista",type:"select",style:"w-2/3",sideBtn:"list",validators:{}},{name:"add2subfilter",label:"Filtra subproductos. ",type:"checkbox",validators:{required:!0}}]},this.chardata={pos:0,id:"",name:"",title:"",type:"",add2filter:!1,add2subfilter:!1,selectlist:[]}}ngOnInit(){var e=this;return(0,_.Z)(function*(){yield e.categLevel(null,-1)})()}getClicked(e){var i=this;return(0,_.Z)(function*(){switch(e.index){case 1:case 3:break;case 2:i.onAddCategoryMenu(-1);break;case 4:yield i.categLevel(null,-1)}})()}categLevel(e,i){var s=this;return(0,_.Z)(function*(){let a="_ROOT";-1===i&&s.categShow.length>1?s.categShow.splice(s.categShow.length-1,1):null!==e?(s.categShow.push({_id:e._id,title:e.name}),a=e._id):(s.categShow=[{_id:"_ROOT",title:"Raiz"}],s.categ_list=yield s.prodserv.getCategories()),s.updateCategLevel(a)})()}updateCategLevel(e){const i=[];this.categ_list.forEach(s=>{this.prodserv.findIndexIncludesCat_id(s.indexCategory,e)>=0&&i.push(s)}),this.categ_list_2showMap=this.prodserv.getOrderCategList_Map(i,e)}setCategory(e,i){this.updateCategLevel(this.categShow[this.categShow.length-1]._id),this.prodserv.setCategory(e,i)}getCategVisible(e){return e?"visibility":"visibility_off"}mousepos(e){this.mpos.x=e.clientX,this.mpos.y=e.clientY}onAddCategoryMenu(e=-1){let i=document.getElementById("spanTrigger");i&&(i.style.display="",i.style.position="absolute",i.style.left=this.mpos.x+5+"px",i.style.top=this.mpos.y+5+"px",this.editControlTrigger.openMenu())}addEditCategory(e,i=-1){let s=-1===i;if(s){let r=this.sharedvar.nextConsecutive("C",3,!0,this.categ_list,"_id"),l="_ROOT:0";this.categShow.length>1&&(l=`${this.categShow[this.categShow.length-1]._id}:0`),e={_id:r,name:"",characterList:[],visible:!0,indexCategory:[l]}}const a=[];if(this.categ_list.forEach(r=>{e._id!==r._id&&a.push({key:r._id,value:r.name})}),a.length>0&&this.categorySchema.controls){const r=this.categorySchema.controls.find(l=>"indexCategory"===l.name);r&&(r.selectOptions=a)}let o={schema:this.categorySchema,value:e,title:"Categor\xeda",showImage:!0,image:e.picture,imgwidth:400,imgheight:400,dgheigth:715};this.dg.aDefault(o).subscribe(r=>{r&&(delete r._propName_,delete r._valid_,this.dg.updatePropResult(e,r),o.image&&e&&(e.picture=o.image),s?this.categ_list.push(e):this.categ_list[i]=e,this.setCategory(e,s))})}onSelectFromList(){var e=this;const i=[];for(let a=0;a<this.categ_list.length;a++)i.push({myid:this.categ_list[a]._id,name:this.categ_list[a].name});this.ds.aSelectDefault({title:"Seleccionar categor\xeda",dgheigth:450,viewfilter:!0,viewAdd:!1,viewEdit:!1,viewDel:!1,multiSelect:!1,valuelst:i}).subscribe(function(){var a=(0,_.Z)(function*(o){if(!o)return;const r=e.categ_list_2showMap.size;let l=`_ROOT:${r}`;e.categShow.length>1&&(l=`${e.categShow[e.categShow.length-1]._id}:${r}`);const d=e.categ_list.find(u=>u._id===o[0].myid);d&&(d.indexCategory.push(l),e.categ_list_2showMap.set(e.categ_list.length,d),e.setCategory(d,!1))});return function(o){return a.apply(this,arguments)}}())}deleteCatData(e){const i=this.categ_list_2showMap.get(e);this.catIndex=this.categ_list.findIndex(s=>s._id===i?._id)}deleteCategory(){this.allowDelCat(this.categ_list[this.catIndex])&&this.snkBar.open("Eliminar "+this.categ_list[this.catIndex].name,"Ok",{duration:7e3}).onAction().subscribe(e=>{this.prodserv.deleteCategory(this.categ_list[this.catIndex]._id),this.categ_list.splice(this.catIndex,1),this.updateCategLevel(this.categShow[this.categShow.length-1]._id)})}removeCategory(){const e=this.categShow[this.categShow.length-1]._id,i=this.categ_list[this.catIndex];i.indexCategory&&this.prodserv.findIndexIncludesCat_id(i.indexCategory,e)>=0&&i.indexCategory.length>1?this.snkBar.open("Se sustraer\xe1 la categor\xeda de la jerarquia. \xbfContinuar?","Ok",{duration:7e3}).onAction().subscribe(s=>{const a=this.prodserv.findIndexIncludesCat_id(i.indexCategory,e);i.indexCategory.splice(a,1),this.setCategory(i,!1)}):this.snkBar.open("Si se extrae la categor\xeda de la jerarquia quedar\xe1 hu\xe9rfana, y ser\xe1 movida a la raiz. \xbfContinuar?","Ok",{duration:7e3}).onAction().subscribe(s=>{i.indexCategory=["_ROOT:0"],this.setCategory(i,!1)})}allowDelCat(e){for(let i=0;i<this.categ_list.length;i++)if(this.prodserv.findIndexIncludesCat_id(this.categ_list[i].indexCategory,e._id)>=0)return!1;return!0}addEditCharactHeader(e,i){let s=!1,a=e.characterList[i];if(-1===i){const r=this.sharedvar.getSerialKey(2,4);a={pos:0,cat_id:e._id,id:r,header:"",duplicable:!1,data:[]},s=!0}this.dg.aDefault({schema:this.characteristic,value:a,title:"T\xedtulo de la caracter\xedstica",dgheigth:265}).subscribe(r=>{if(r){if(delete r._propName_,delete r._valid_,this.dg.updatePropResult(a,r),s){let l=0;e.characterList.forEach(d=>{d.pos=l,l++}),a.pos=l,e.characterList.push(a)}else e.characterList[i]=a;this.setCategory(e,!1)}})}swapPropItem(e,i){if(i>0){const s=e.characterList[i].pos;i--;const a=e.characterList[i].pos;e.characterList[i].pos=s,i++,e.characterList[i].pos=a,e.characterList.sort((o,r)=>o.pos-r.pos),this.setCategory(e,!1)}}deleteHeader(e,i){const s=e.characterList[i];s&&this.snkBar.open("Eliminar "+s.header,"Ok",{duration:7e3}).onAction().subscribe(a=>{e.characterList.splice(i,1),this.setCategory(e,!1)})}addEditElementItem(e,i,s){this.prodserv.generateSubFilterList(e._id,this.categ_list);let a=!0;const o=this.sharedvar.getSerialKey(2,4);let r={pos:0,id:o,name:o,title:"",type:"",add2filter:!1,add2subfilter:!1,selectlist:[]};if(s>=0&&e.characterList[i].data[s]&&(r=e.characterList[i].data[s],a=!1),this.getTypePicture(this,r,this.charactItem),r.selectlist&&r.selectlist.length>0){const d=[];r.selectlist.forEach(u=>d.push({text:u})),this.fillSelectlist(this.charactItem,d)}this.chardata={...r},this.dg.aDefault({schema:this.charactItem,function:[{name:"type",self:this,btn_source:0,function:this.getTypePicture},{name:"selectlist",self:this,btn_source:1,function:this.getList}],value:r,title:"Propiedades de: "+e.characterList[i].header,dgwidth:600,dgheigth:600}).subscribe(d=>{if(d){if(delete d._propName_,delete d._valid_,this.dg.updatePropResult(r,d),r.subfilterlist=this.chardata.subfilterlist,r.name=this.getPropName(e,i,d.title),a){let u=0;e.characterList[i].data.forEach(G=>{G.pos=u,u++}),r.pos=u,e.characterList[i].data.push(r)}else e.characterList[i].data[s]=r;this.setCategory(e,!1)}})}getPropName(e,i,s){return this.sharedvar.removeAccents(`${e.name}_${e.characterList[i].header}_${s}`.toUpperCase())}getTypePicture(e,i,s){return(0,_.Z)(function*(){if(!i||!s.controls)return;const a=s.controls.findIndex(o=>"pict_proportion"===o.name)||-1;if("image"!==i.type&&"carrousel"!==i.type||-1!==a){if("image"!==i.type&&"pictures"!==i.type&&a>-1){s.controls.splice(a,1);const o=s.controls.findIndex(r=>"pict_density"===r.name)||-1;s.controls.splice(o,1)}}else s.controls.push({name:"pict_proportion",label:"Proporciones (n/n):",type:"text",default:"3/4",validators:{}},{name:"pict_density",label:"Densidad de la im\xe1gen:",type:"number",default:300,validators:{}}),i.pict_proportion="3/4",i.pict_density="300";return{schema:s,value:i}})()}getList(e,i,s){return(0,_.Z)(function*(){if(!i)return;const a=[];i.selectlist&&i.selectlist.length>0?i.selectlist.forEach(l=>a.push({text:l})):a.push({text:""});const o={title:"Lista predeterminada",schema:{controls:[{label:"Texto",name:"text",validators:{},type:"text",style:"w-full"}]},value:a,tags:{headerAdd:"add"}},r=yield(0,x.z)(e.dg.aDefaultMulti(o));return r&&(i.selectlist=e.fillSelectlist(s,r)),{schema:s,value:i}})()}fillSelectlist(e,i){const s=[];i.forEach(o=>s.push(o.text));const a=e.controls?.find(o=>"selectlist"===o.name);return a&&s.length>0&&(a.selectOptions=[],s.forEach(o=>a.selectOptions?.push({key:o,value:o}))),s}swapElementItem(e,i,s){if(s>0){const a=e.characterList[i].data[s].pos;s--;const o=e.characterList[i].data[s].pos;e.characterList[i].data[s].pos=a,s++,e.characterList[i].data[s].pos=o,e.characterList[i].data.sort((r,l)=>r.pos-l.pos),this.setCategory(e,!1)}}deleteCharactItem(e,i,s){const a=e.characterList[i].data[s];a&&this.snkBar.open("Eliminar "+a.title,"Ok",{duration:7e3}).onAction().subscribe(o=>{e.characterList[i].data.splice(s,1),this.setCategory(e,!1)})}switchSubView(e){this.subView===e?this.subView=-1:(this.subView=e,this.shoppingCond=-1)}getSubView(e){return this.subView===e}getCategImage(e){return e.picture?this.sanitizer.bypassSecurityTrustUrl(e.picture):""}fileChangeEvent(e,i=null){}switchShoppingCond(e,i){this.shoppingCond===i?this.shoppingCond=-1:(this.subView=-1,this.shoppingCond=i,this.categ2SubFilter=this.prodserv.generateSubFilterList(e._id,this.categ_list))}getShoppingCondView(e){return this.shoppingCond===e}editShoppingCategory(e,i){var s=this;return(0,_.Z)(function*(){console.log(e),yield s.setCategory(i,!1)})()}onDragOver(e,i){null!==i&&(this.drag2Category=i),e.preventDefault()}onDragStart(e,i){this.dragFromCategory=i}onDrop(e,i){if(e.stopPropagation(),this.dragFromCategory===i)return;this.drag2Category=i;let s=document.getElementById("spandroptrigger");s&&(s.style.display="",s.style.position="absolute",s.style.left=e.x+5+"px",s.style.top=e.y+5+"px",this.droptrigger.openMenu())}onDropOrder(){var e=this;return(0,_.Z)(function*(){if(!e.drag2Category)return;const i=e.sharedvar.getKeyFromValues_Map(e.categ_list_2showMap,"_id",e.dragFromCategory._id),s=e.sharedvar.getKeyFromValues_Map(e.categ_list_2showMap,"_id",e.drag2Category._id);if(-1!==i&&-1!==s){const a=e.categShow[e.categShow.length-1]._id;e.categ_list_2showMap.get(i),e.categ_list_2showMap.get(s),e.categ_list_2showMap=yield e.prodserv.reorderCategs(e.categ_list_2showMap,a,i,s)}})()}onMoveCategory(){this.addIndexCategory();let e="_ROOT";this.categShow.length>1&&(e=this.categShow[this.categShow.length-1]._id);const i=this.prodserv.findIndexIncludesCat_id(this.dragFromCategory.indexCategory,e);i>=0&&this.dragFromCategory.indexCategory&&(this.dragFromCategory.indexCategory.splice(i,1),this.setCategory(this.dragFromCategory,!1))}onCopyCategory(){this.addIndexCategory()&&this.setCategory(this.dragFromCategory,!1)}addIndexCategory(){return this.prodserv.findIndexIncludesCat_id(this.dragFromCategory.indexCategory,this.drag2Category._id)<0&&(this.dragFromCategory.indexCategory?.push(`${this.drag2Category._id}:500`),!0)}deleteCat(e,i){const s=e.characterList[i];s&&this.snkBar.open("Eliminar "+s.header,"Ok",{duration:7e3}).onAction().subscribe(a=>{let o="_ROOT";this.categShow.length>1&&(o=this.categShow[this.categShow.length-1]._id);const r=this.prodserv.findIndexIncludesCat_id(e.indexCategory,o);r>=0&&e.indexCategory?.splice(r,1)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(y.k),t.Y36(w.x),t.Y36(k.n),t.Y36(v.ux),t.Y36(b.H7),t.Y36(T.M),t.Y36(Z.D))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-categ-list"]],viewQuery:function(i,s){if(1&i&&(t.Gf(M,5),t.Gf(A,5)),2&i){let a;t.iGM(a=t.CRH())&&(s.editControlTrigger=a.first),t.iGM(a=t.CRH())&&(s.droptrigger=a.first)}},decls:33,vars:8,consts:[[1,"flex","flex-col","max-h-screen",3,"mousemove"],[3,"buttons","nav_menu","onClicked"],["id","spanTrigger",3,"matMenuTriggerFor"],["editControlTrigger","matMenuTrigger"],[1,"flex-1","px-1","pt-1","bg-gray-100","overflow-auto"],[1,"flex","font-medium","mb-2","text-gray-400","hover:text-black",3,"click"],["id","spandroptrigger",3,"matMenuTriggerFor"],["droptrigger","matMenuTrigger"],["draggable","true",3,"dragover","drop"],["draggable","true",3,"dragover","dragstart","drop",4,"ngFor","ngForOf"],["productsmenu","matMenu"],["mat-menu-item","",3,"click"],["dropmenu","matMenu"],["onDeleteCategory","matMenu"],["draggable","true",3,"dragover","dragstart","drop"],[1,"p-1","flex","flex-col","bg-white","border","border-gray-500","mb-2"],[1,"flex","justify-start"],[1,"w-30",3,"click"],[1,"h-16","w-16","border","border-gray-400","py-1","px-1","rounded-full","shadow-sm",3,"src"],[1,"grow","ml-2","flex","flex-col"],[1,"flex","justify-start","font-medium"],[1,"text-gray-800"],[1,"ml-2"],[1,"mt-1","flex","justify-end","text-sky-200","bg-gray-100"],[1,"hover:text-sky-500",3,"click"],[1,"text-sky-200","hover:text-sky-500"],[1,"hover:text-red-500",3,"matMenuTriggerFor","click"],[1,"ml-12","flex","text-gray-400","font-medium","hover:text-black",3,"click"],[4,"ngIf"],[1,"mt-2","flex","px-1","text-sm","bg-gray-100",3,"click"],[1,"mt-1","font-medium","text-gray-400","hover:text-black"],[1,"w-20","text-sky-200","hover:text-sky-500"],[1,"flex","flex-col","mx-2","mt-1","text-sm"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"border","border-gray-300"],[1,"flex","flex-row","align-middle","bg-gray-100"],[1,"grow","flex","flex-row","items-center","justify-center","text-sky-200"],[1,"text-center","font-medium","text-black"],[1,"text-sky-200","hover:text-sky-500",3,"click"],[1,"w-20","ml-1","hover:text-sky-500",3,"click"],[1,"hover:text-red-500",3,"click"],[1,"w-40","flex","flex-row","items-end","justify-end","align-middle","font-medium","text-sm","text-sky-200"],[1,"text-gray-400","hover:text-black"],["class","flex flex-col",4,"ngFor","ngForOf"],[1,"flex","flex-col"],[1,"pt-2","flex","justify-items-start","align-middle","bg-white"],[1,"px-1","font-medium","text-sm"],[1,"grow","px-1","text-xs"],[1,"text-gray-400"],[1,"text-gray-500"],[1,"text-sky-200","hover:text-red-500",3,"click"],[1,"flex-1","px-2","pt-3","mt-1","overflow-auto"],[3,"category","subfilterlist","categList","onChangeCond"]],template:function(i,s){if(1&i&&(t.TgZ(0,"div",0),t.NdJ("mousemove",function(o){return s.mousepos(o)}),t.TgZ(1,"app-header",1),t.NdJ("onClicked",function(o){return s.getClicked(o)}),t.qZA(),t._UZ(2,"span",2,3),t.TgZ(4,"div",4)(5,"div",5),t.NdJ("click",function(){return s.categLevel(null,-1)}),t.TgZ(6,"mat-icon"),t._uU(7,"chevron_left"),t.qZA(),t.TgZ(8,"div"),t._uU(9),t.qZA()(),t._UZ(10,"span",6,7),t.TgZ(12,"div",8),t.NdJ("dragover",function(o){return s.onDragOver(o,null)})("drop",function(){return s.onDropOrder()}),t.YNc(13,N,30,6,"div",9),t.ALo(14,"keyvalue"),t.qZA()(),t.TgZ(15,"mat-menu",null,10)(17,"button",11),t.NdJ("click",function(){return s.addEditCategory(null,-1)}),t._uU(18," Nueva categor\xeda "),t.qZA(),t.TgZ(19,"button",11),t.NdJ("click",function(){return s.onSelectFromList()}),t._uU(20," Seleccionar de la lista "),t.qZA()(),t.TgZ(21,"mat-menu",null,12)(23,"button",11),t.NdJ("click",function(){return s.onMoveCategory()}),t._uU(24," Mover... "),t.qZA(),t.TgZ(25,"button",11),t.NdJ("click",function(){return s.onCopyCategory()}),t._uU(26," Replicar... "),t.qZA()(),t.TgZ(27,"mat-menu",null,13)(29,"button",11),t.NdJ("click",function(){return s.removeCategory()}),t._uU(30," Sustraer de esta categor\xeda "),t.qZA(),t.TgZ(31,"button",11),t.NdJ("click",function(){return s.deleteCategory()}),t._uU(32," Eliminar de la base de datos "),t.qZA()()()),2&i){const a=t.MAs(16),o=t.MAs(22);t.xp6(1),t.Q6J("buttons","111111")("nav_menu",!1),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(7),t.Oqu(s.categShow[s.categShow.length-1].title),t.xp6(1),t.Q6J("matMenuTriggerFor",o),t.xp6(3),t.Q6J("ngForOf",t.lcZ(14,6,s.categ_list_2showMap))}},dependencies:[p.sg,p.O5,L.G,h.VK,h.OP,h.p6,f.Hw,S.y,p.Nd]})}return n})()}];let J=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[C.Bz.forChild(E),C.Bz]})}return n})();var q=c(769),$=c(7572),D=c(1225);let H=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[p.ez,J,q.O,h.Tx,f.Ps,v.ZX,$.N,D.U]})}return n})()}}]);