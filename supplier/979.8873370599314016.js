"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[979],{1979:(f,s,l)=>{l.r(s),l.d(s,{NestedDialogComponent:()=>v});var r=l(3241),a=l(765),t=l(6339),g=l(5180),c=l(4070),p=l(4370),u=l(8137);function h(o,d){if(1&o){const i=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,_=t.oxw();return t.KtG(_.onSelect(e))}),t._uU(2),t.qZA(),t.TgZ(3,"mat-icon",10),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,_=t.oxw();return t.KtG(_.itemLevel(e,1))}),t._uU(4,"chevron_right"),t.qZA()()}if(2&o){const i=t.oxw().$implicit;t.xp6(2),t.Oqu(i.title)}}function m(o,d){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,h,5,1,"div",7),t.qZA()),2&o){const i=d.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.getItem2Show(i))}}let v=(()=>{class o{constructor(i,n,e){this.dialogRef=i,this.data=n,this.prodserv=e,this.nestedItemList=[],this.categShow=[{_id:this.prodserv._ROOT,title:"Raiz",parentIndex:[]}],i.disableClose=!0,this.nestedItemList=n.value.data}getItem2Show(i){return 1===this.categShow.length&&0===i.parentIndex.length||this.includesCat_id(i.parentIndex,this.categShow[this.categShow.length-1]._id)>=0}includesCat_id(i,n){for(let e=0;e<i.length;e++)if(i[e].includes(n))return e;return-1}itemLevel(i,n){var e=this;return(0,r.Z)(function*(){-1===n&&e.categShow.length>1?e.categShow.splice(e.categShow.length-1,1):null!==i&&e.categShow.push({_id:i._id,title:i.title,parentIndex:i.parentIndex})})()}onExit(){this.dialogRef.close()}onSelect(i){const n=[];for(let e=1;e<this.categShow.length;e++)n.push({key:this.categShow[e]._id,value:this.categShow[e].title,tag:this.categShow[e].parentIndex});n.push({key:i._id,value:i.title,tag:i.parentIndex}),this.dialogRef.close({data:n})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(a.so),t.Y36(a.WI),t.Y36(g.M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-nested-dialog"]],decls:14,vars:3,consts:[[1,"flex","flex-col","h-full"],[1,"h-16","p-3","text-2xl","bg-violet-600","text-white","font-medium"],[1,"flex-1","px-3","pt-3","mt-1","overflow-auto"],[1,"flex","text-sky-500","mb-2",3,"click"],[4,"ngFor","ngForOf"],[1,"flex","p-3","justify-end","border-t","border-violet-500"],["mat-stroked-button","","color","primary",3,"click"],["class","p-1 flex bg-white mb-2",4,"ngIf"],[1,"p-1","flex","bg-white","mb-2"],[1,"grow",3,"click"],[1,"ml-12","text-sky-500",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t.NdJ("click",function(){return e.itemLevel(null,-1)}),t.TgZ(5,"mat-icon"),t._uU(6,"chevron_left"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA()(),t.YNc(9,m,2,1,"div",4),t.qZA(),t.TgZ(10,"div",5)(11,"button",6),t.NdJ("click",function(){return e.onExit()}),t.TgZ(12,"mat-icon"),t._uU(13,"done"),t.qZA()()()()),2&n&&(t.xp6(2),t.Oqu(e.data.title),t.xp6(6),t.Oqu(e.categShow[e.categShow.length-1].title),t.xp6(1),t.Q6J("ngForOf",e.nestedItemList))},dependencies:[c.sg,c.O5,p.lW,u.Hw]})}return o})()}}]);