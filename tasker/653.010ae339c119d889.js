"use strict";(self.webpackChunktasky_tasker=self.webpackChunktasky_tasker||[]).push([[653],{2653:(D,f,o)=>{o.r(f),o.d(f,{AccountStatusModule:()=>b});var l=o(6895),p=o(9132),u=o(5861),t=o(4650),h=o(5377),v=o(8826),g=o(3028),x=o(9496),y=o(3646);function A(i,m){if(1&i&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.price),"")}}function S(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.buildHtml2Pdf(a._id))}),t._UZ(1,"img",5),t.TgZ(2,"div",6)(3,"div",7),t._uU(4),t.qZA(),t.TgZ(5,"div",8)(6,"div",9),t._uU(7),t.qZA(),t.TgZ(8,"div",10),t._uU(9),t.ALo(10,"date"),t.qZA()()(),t.YNc(11,A,3,3,"div",11),t.qZA()}if(2&i){const e=m.$implicit,s=t.oxw();t.xp6(1),t.Q6J("src",e.activity_logo||"./assets/images/icon-128x128.png",t.LSH),t.xp6(3),t.Oqu(e.activity_name),t.xp6(3),t.hij("",s.STATUS_STR[e.status],": "),t.xp6(2),t.Oqu(t.xi3(10,5,e.status_date,"dd/MM/yy hh:mm")),t.xp6(2),t.Q6J("ngIf",e.price&&e.price>0)}}const T=[{path:"",component:(()=>{class i{constructor(e,s,n,a){this.sharedvar=e,this.dtb=s,this.dg=n,this.htm2pdf=a,this.STATUS_STR=["Ninguno","Seleccionado","En proceso","Finalizado","Aprobado"]}ngOnInit(){var e=this;return(0,u.Z)(function*(){e.filterDialog()})()}getClicked(e){2===e.index&&this.filterDialog()}filterDialog(){var e=this;let n=new Date;n.setHours(0,0,0,0);let a={status:"3",date_ini:n.getTime(),date_end:n.getTime()};this.dg.aDefault({schema:{controls:[{name:"status",label:"Estado:",type:"select",validators:{},selectOptions:[{key:"3",value:"Finalizado"},{key:"4",value:"Aprobado"},{key:"5",value:"pagado"}]},{name:"date_ini",label:"Fecha inicio:",type:"date",validators:{}},{name:"date_end",label:"Fecha final:",type:"date",validators:{}}]},title:"Filtros",value:a,dgwidth:250,dgheigth:400}).subscribe(function(){var F=(0,u.Z)(function*(d){if(d){let r=new Date(d.date_ini||0);r.setHours(0,0,0,0);const w=r.getTime();r=new Date(d.date_end||0);const k=r.setDate(r.getDate()+1);e.resultStatusList=yield e.dtb.getPollResultByStatusAsync(d.status||3,w,k)}});return function(d){return F.apply(this,arguments)}}())}buildHtml2Pdf(e){var s=this;return(0,u.Z)(function*(){const n=yield s.dtb.getPollResultAsync(e);s.htm2pdf.buildHtml2Pdf(n,null)})()}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(h.D),t.Y36(v.k),t.Y36(g.x),t.Y36(x.Q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-account-status"]],decls:4,vars:2,consts:[[1,"flex","flex-col","h-full"],[3,"buttons","onClicked"],[1,"flex-1","overflow-auto"],["class","flex h-14 w-full flex-row text-sm border-b border-slate-200",3,"click",4,"ngFor","ngForOf"],[1,"flex","h-14","w-full","flex-row","text-sm","border-b","border-slate-200",3,"click"],["alt","logo",1,"h-12","w-12","rounded-md","object-fill","p-1",3,"src"],[1,"flex","grow","flex-col","justify-start"],[1,"grow","pl-2","text-lg"],[1,"pl-2","flex","flex-row","h-14","w-full"],[1,"p-1","h-6","text-sm","text-slate-700"],[1,"pl-3","pt-1","text-sm","text-slate-400"],["class","pt-1 text-red-700 font-semibold",4,"ngIf"],[1,"pt-1","text-red-700","font-semibold"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"app-header",1),t.NdJ("onClicked",function(c){return n.getClicked(c)}),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,S,12,8,"div",3),t.qZA()()),2&s&&(t.xp6(1),t.Q6J("buttons","11100000"),t.xp6(2),t.Q6J("ngForOf",n.resultStatusList))},dependencies:[l.sg,l.O5,y.G,l.H9,l.uU]})}return i})()}];let Z=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(T),p.Bz]})}return i})();var C=o(8471);let b=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.ez,Z,C.O]})}return i})()}}]);